!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.klaro=t():e.klaro=t()}(self,(()=>(()=>{var e={362:(e,t,n)=>{"use strict";var o=n(441);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},441:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},688:(e,t,n)=>{e.exports=n(362)()}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{addEventListener:()=>ln,defaultConfig:()=>nn,defaultTranslations:()=>on,getConfigTranslations:()=>pn,getElement:()=>cn,getElementID:()=>an,getManager:()=>kn,language:()=>ht,render:()=>dn,renderContextualConsentNotices:()=>_n,resetManagers:()=>bn,setup:()=>gn,show:()=>vn,updateConfig:()=>Pt,validateConfig:()=>hn,version:()=>En});var e,t,i,r,s,a,c,l,u,p,f,d,_={},m=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,g=Array.isArray;function v(e,t){for(var n in t)e[n]=t[n];return e}function y(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function b(t,n,o){var i,r,s,a={};for(s in n)"key"==s?i=n[s]:"ref"==s?r=n[s]:a[s]=n[s];if(arguments.length>2&&(a.children=arguments.length>3?e.call(arguments,2):o),"function"==typeof t&&null!=t.defaultProps)for(s in t.defaultProps)void 0===a[s]&&(a[s]=t.defaultProps[s]);return k(t,a,i,r,null)}function k(e,n,o,r,s){var a={type:e,props:n,key:o,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==s?++i:s,__i:-1,__u:0};return null==s&&null!=t.vnode&&t.vnode(a),a}function E(e){return e.children}function w(e,t){this.props=e,this.context=t}function C(e,t){if(null==t)return e.__?C(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?C(e):null}function x(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return x(e)}}function N(e){(!e.__d&&(e.__d=!0)&&r.push(e)&&!O.__r++||s!=t.debounceRendering)&&((s=t.debounceRendering)||a)(O)}function O(){for(var e,n,o,i,s,a,l,u=1;r.length;)r.length>u&&r.sort(c),e=r.shift(),u=r.length,e.__d&&(o=void 0,s=(i=(n=e).__v).__e,a=[],l=[],n.__P&&((o=v({},i)).__v=i.__v+1,t.vnode&&t.vnode(o),q(n.__P,o,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,a,null==s?C(i):s,!!(32&i.__u),l),o.__v=i.__v,o.__.__k[o.__i]=o,U(a,o,l),o.__e!=s&&x(o)));O.__r=0}function S(e,t,n,o,i,r,s,a,c,l,u){var p,f,d,h,g,v,y=o&&o.__k||m,b=t.length;for(c=P(n,t,y,c,b),p=0;p<b;p++)null!=(d=n.__k[p])&&(f=-1==d.__i?_:y[d.__i]||_,d.__i=p,v=q(e,d,f,i,r,s,a,c,l,u),h=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&W(f.ref,null,d),u.push(d.ref,d.__c||h,d)),null==g&&null!=h&&(g=h),4&d.__u||f.__k===d.__k?c=A(d,c,e):"function"==typeof d.type&&void 0!==v?c=v:h&&(c=h.nextSibling),d.__u&=-7);return n.__e=g,c}function P(e,t,n,o,i){var r,s,a,c,l,u=n.length,p=u,f=0;for(e.__k=new Array(i),r=0;r<i;r++)null!=(s=t[r])&&"boolean"!=typeof s&&"function"!=typeof s?(c=r+f,(s=e.__k[r]="string"==typeof s||"number"==typeof s||"bigint"==typeof s||s.constructor==String?k(null,s,null,null,null):g(s)?k(E,{children:s},null,null,null):null==s.constructor&&s.__b>0?k(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,a=null,-1!=(l=s.__i=D(s,n,c,p))&&(p--,(a=n[l])&&(a.__u|=2)),null==a||null==a.__v?(-1==l&&(i>u?f--:i<u&&f++),"function"!=typeof s.type&&(s.__u|=4)):l!=c&&(l==c-1?f--:l==c+1?f++:(l>c?f--:f++,s.__u|=4))):e.__k[r]=null;if(p)for(r=0;r<u;r++)null!=(a=n[r])&&!(2&a.__u)&&(a.__e==o&&(o=C(a)),L(a,a));return o}function A(e,t,n){var o,i;if("function"==typeof e.type){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,t=A(o[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=C(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function j(e,t){return t=t||[],null==e||"boolean"==typeof e||(g(e)?e.some((function(e){j(e,t)})):t.push(e)),t}function D(e,t,n,o){var i,r,s=e.key,a=e.type,c=t[n];if(null===c&&null==e.key||c&&s==c.key&&a==c.type&&!(2&c.__u))return n;if(o>(null==c||2&c.__u?0:1))for(i=n-1,r=n+1;i>=0||r<t.length;){if(i>=0){if((c=t[i])&&!(2&c.__u)&&s==c.key&&a==c.type)return i;i--}if(r<t.length){if((c=t[r])&&!(2&c.__u)&&s==c.key&&a==c.type)return r;r++}}return-1}function T(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||h.test(t)?n:n+"px"}function R(e,t,n,o,i){var r,s;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||T(e.style,t,"");if(n)for(t in n)o&&n[t]==o[t]||T(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])r=t!=(t=t.replace(l,"$1")),s=t.toLowerCase(),t=s in e||"onFocusOut"==t||"onFocusIn"==t?s.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o?n.u=o.u:(n.u=u,e.addEventListener(t,r?f:p,r)):e.removeEventListener(t,r?f:p,r);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function M(e){return function(n){if(this.l){var o=this.l[n.type+e];if(null==n.t)n.t=u++;else if(n.t<o.u)return;return o(t.event?t.event(n):n)}}}function q(e,n,o,i,r,s,a,c,l,u){var p,f,d,_,m,h,b,k,C,x,N,O,P,A,j,D,T,R=n.type;if(null!=n.constructor)return null;128&o.__u&&(l=!!(32&o.__u),s=[c=n.__e=o.__e]),(p=t.__b)&&p(n);e:if("function"==typeof R)try{if(k=n.props,C="prototype"in R&&R.prototype.render,x=(p=R.contextType)&&i[p.__c],N=p?x?x.props.value:p.__:i,o.__c?b=(f=n.__c=o.__c).__=f.__E:(C?n.__c=f=new R(k,N):(n.__c=f=new w(k,N),f.constructor=R,f.render=$),x&&x.sub(f),f.props=k,f.state||(f.state={}),f.context=N,f.__n=i,d=f.__d=!0,f.__h=[],f._sb=[]),C&&null==f.__s&&(f.__s=f.state),C&&null!=R.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=v({},f.__s)),v(f.__s,R.getDerivedStateFromProps(k,f.__s))),_=f.props,m=f.state,f.__v=n,d)C&&null==R.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),C&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(C&&null==R.getDerivedStateFromProps&&k!==_&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(k,N),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(k,f.__s,N)||n.__v==o.__v){for(n.__v!=o.__v&&(f.props=k,f.state=f.__s,f.__d=!1),n.__e=o.__e,n.__k=o.__k,n.__k.some((function(e){e&&(e.__=n)})),O=0;O<f._sb.length;O++)f.__h.push(f._sb[O]);f._sb=[],f.__h.length&&a.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(k,f.__s,N),C&&null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(_,m,h)}))}if(f.context=N,f.props=k,f.__P=e,f.__e=!1,P=t.__r,A=0,C){for(f.state=f.__s,f.__d=!1,P&&P(n),p=f.render(f.props,f.state,f.context),j=0;j<f._sb.length;j++)f.__h.push(f._sb[j]);f._sb=[]}else do{f.__d=!1,P&&P(n),p=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++A<25);f.state=f.__s,null!=f.getChildContext&&(i=v(v({},i),f.getChildContext())),C&&!d&&null!=f.getSnapshotBeforeUpdate&&(h=f.getSnapshotBeforeUpdate(_,m)),D=p,null!=p&&p.type===E&&null==p.key&&(D=H(p.props.children)),c=S(e,g(D)?D:[D],n,o,i,r,s,a,c,l,u),f.base=n.__e,n.__u&=-161,f.__h.length&&a.push(f),b&&(f.__E=f.__=null)}catch(e){if(n.__v=null,l||null!=s)if(e.then){for(n.__u|=l?160:128;c&&8==c.nodeType&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,n.__e=c}else for(T=s.length;T--;)y(s[T]);else n.__e=o.__e,n.__k=o.__k;t.__e(e,n,o)}else null==s&&n.__v==o.__v?(n.__k=o.__k,n.__e=o.__e):c=n.__e=I(o.__e,n,o,i,r,s,a,l,u);return(p=t.diffed)&&p(n),128&n.__u?void 0:c}function U(e,n,o){for(var i=0;i<o.length;i++)W(o[i],o[++i],o[++i]);t.__c&&t.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){t.__e(e,n.__v)}}))}function H(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:g(e)?e.map(H):v({},e)}function I(n,o,i,r,s,a,c,l,u){var p,f,d,m,h,v,b,k=i.props,E=o.props,w=o.type;if("svg"==w?s="http://www.w3.org/2000/svg":"math"==w?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),null!=a)for(p=0;p<a.length;p++)if((h=a[p])&&"setAttribute"in h==!!w&&(w?h.localName==w:3==h.nodeType)){n=h,a[p]=null;break}if(null==n){if(null==w)return document.createTextNode(E);n=document.createElementNS(s,w,E.is&&E),l&&(t.__m&&t.__m(o,a),l=!1),a=null}if(null==w)k===E||l&&n.data==E||(n.data=E);else{if(a=a&&e.call(n.childNodes),k=i.props||_,!l&&null!=a)for(k={},p=0;p<n.attributes.length;p++)k[(h=n.attributes[p]).name]=h.value;for(p in k)if(h=k[p],"children"==p);else if("dangerouslySetInnerHTML"==p)d=h;else if(!(p in E)){if("value"==p&&"defaultValue"in E||"checked"==p&&"defaultChecked"in E)continue;R(n,p,null,h,s)}for(p in E)h=E[p],"children"==p?m=h:"dangerouslySetInnerHTML"==p?f=h:"value"==p?v=h:"checked"==p?b=h:l&&"function"!=typeof h||k[p]===h||R(n,p,h,k[p],s);if(f)l||d&&(f.__html==d.__html||f.__html==n.innerHTML)||(n.innerHTML=f.__html),o.__k=[];else if(d&&(n.innerHTML=""),S("template"==o.type?n.content:n,g(m)?m:[m],o,i,r,"foreignObject"==w?"http://www.w3.org/1999/xhtml":s,a,c,a?a[0]:i.__k&&C(i,0),l,u),null!=a)for(p=a.length;p--;)y(a[p]);l||(p="value","progress"==w&&null==v?n.removeAttribute("value"):null!=v&&(v!==n[p]||"progress"==w&&!v||"option"==w&&v!=k[p])&&R(n,p,v,k[p],s),p="checked",null!=b&&b!=n[p]&&R(n,p,b,k[p],s))}return n}function W(e,n,o){try{if("function"==typeof e){var i="function"==typeof e.__u;i&&e.__u(),i&&null==n||(e.__u=e(n))}else e.current=n}catch(e){t.__e(e,o)}}function L(e,n,o){var i,r;if(t.unmount&&t.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||W(i,null,n)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){t.__e(e,n)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&L(i[r],n,o||"function"!=typeof e.type);o||y(e.__e),e.__c=e.__=e.__e=void 0}function $(e,t,n){return this.constructor(e,n)}function F(n,o,i){var r,s,a,c;o==document&&(o=document.documentElement),t.__&&t.__(n,o),s=(r="function"==typeof i)?null:i&&i.__k||o.__k,a=[],c=[],q(o,n=(!r&&i||o).__k=b(E,null,[n]),s||_,_,o.namespaceURI,!r&&i?[i]:s?null:o.firstChild?e.call(o.childNodes):null,a,!r&&i?i:s?s.__e:o.firstChild,r,c),U(a,n,c)}function B(e,t){F(e,t,B)}function z(t,n,o){var i,r,s,a,c=v({},t.props);for(s in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),n)"key"==s?i=n[s]:"ref"==s?r=n[s]:c[s]=void 0===n[s]&&null!=a?a[s]:n[s];return arguments.length>2&&(c.children=arguments.length>3?e.call(arguments,2):o),k(t.type,c,i||t.key,r||t.ref,null)}e=m.slice,t={__e:function(e,t,n,o){for(var i,r,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,o||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},i=0,w.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=v({},this.state),"function"==typeof e&&(e=e(v({},n),this.props)),e&&v(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),N(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),N(this))},w.prototype.render=E,r=[],a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(e,t){return e.__v.__b-t.__v.__b},O.__r=0,l=/(PointerCapture)$|Capture$/i,u=0,p=M(!1),f=M(!0),d=0;var V,K,J,G,Y=0,Z=[],X=t,Q=X.__b,ee=X.__r,te=X.diffed,ne=X.__c,oe=X.unmount,ie=X.__;function re(e,t){X.__h&&X.__h(K,e,Y||t),Y=0;var n=K.__H||(K.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function se(e){return Y=1,ae(we,e)}function ae(e,t,n){var o=re(V++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):we(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=K,!K.__f)){var i=function(e,t,n){if(!o.__c.__H)return!0;var i=o.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!r||r.call(this,e,t,n);var s=o.__c.props!==e;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(s=!0)}})),r&&r.call(this,e,t,n)||s};K.__f=!0;var r=K.shouldComponentUpdate,s=K.componentWillUpdate;K.componentWillUpdate=function(e,t,n){if(this.__e){var o=r;r=void 0,i(e,t,n),r=o}s&&s.call(this,e,t,n)},K.shouldComponentUpdate=i}return o.__N||o.__}function ce(e,t){var n=re(V++,3);!X.__s&&Ee(n.__H,t)&&(n.__=e,n.u=t,K.__H.__h.push(n))}function le(e,t){var n=re(V++,4);!X.__s&&Ee(n.__H,t)&&(n.__=e,n.u=t,K.__h.push(n))}function ue(e){return Y=5,fe((function(){return{current:e}}),[])}function pe(e,t,n){Y=6,le((function(){if("function"==typeof e){var n=e(t());return function(){e(null),n&&"function"==typeof n&&n()}}if(e)return e.current=t(),function(){return e.current=null}}),null==n?n:n.concat(e))}function fe(e,t){var n=re(V++,7);return Ee(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function de(e,t){return Y=8,fe((function(){return e}),t)}function _e(e){var t=K.context[e.__c],n=re(V++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(K)),t.props.value):e.__}function me(e,t){X.useDebugValue&&X.useDebugValue(t?t(e):e)}function he(){var e=re(V++,11);if(!e.__){for(var t=K.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function ge(){for(var e;e=Z.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(be),e.__H.__h.forEach(ke),e.__H.__h=[]}catch(t){e.__H.__h=[],X.__e(t,e.__v)}}X.__b=function(e){K=null,Q&&Q(e)},X.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),ie&&ie(e,t)},X.__r=function(e){ee&&ee(e),V=0;var t=(K=e.__c).__H;t&&(J===K?(t.__h=[],K.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0}))):(t.__h.forEach(be),t.__h.forEach(ke),t.__h=[],V=0)),J=K},X.diffed=function(e){te&&te(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Z.push(t)&&G===X.requestAnimationFrame||((G=X.requestAnimationFrame)||ye)(ge)),t.__H.__.forEach((function(e){e.u&&(e.__H=e.u),e.u=void 0}))),J=K=null},X.__c=function(e,t){t.some((function(e){try{e.__h.forEach(be),e.__h=e.__h.filter((function(e){return!e.__||ke(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],X.__e(n,e.__v)}})),ne&&ne(e,t)},X.unmount=function(e){oe&&oe(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{be(e)}catch(e){t=e}})),n.__H=void 0,t&&X.__e(t,n.__v))};var ve="function"==typeof requestAnimationFrame;function ye(e){var t,n=function(){clearTimeout(o),ve&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,35);ve&&(t=requestAnimationFrame(n))}function be(e){var t=K,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),K=t}function ke(e){var t=K;e.__c=e.__(),K=t}function Ee(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function we(e,t){return"function"==typeof t?t(e):t}function Ce(e,t){for(var n in t)e[n]=t[n];return e}function xe(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var o in t)if("__source"!==o&&e[o]!==t[o])return!0;return!1}function Ne(e,t){var n=t(),o=se({t:{__:n,u:t}}),i=o[0].t,r=o[1];return le((function(){i.__=n,i.u=t,Oe(i)&&r({t:i})}),[e,n,t]),ce((function(){return Oe(i)&&r({t:i}),e((function(){Oe(i)&&r({t:i})}))}),[e]),n}function Oe(e){var t,n,o=e.u,i=e.__;try{var r=o();return!((t=i)===(n=r)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}function Se(e){e()}function Pe(e){return e}function Ae(){return[!1,Se]}var je=le;function De(e,t){this.props=e,this.context=t}(De.prototype=new w).isPureReactComponent=!0,De.prototype.shouldComponentUpdate=function(e,t){return xe(this.props,e)||xe(this.state,t)};var Te=t.__b;t.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Te&&Te(e)};var Re="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,Me=function(e,t){return null==e?null:j(j(e).map(t))},qe={map:Me,forEach:Me,count:function(e){return e?j(e).length:0},only:function(e){var t=j(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:j},Ue=t.__e;t.__e=function(e,t,n,o){if(e.then)for(var i,r=t;r=r.__;)if((i=r.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);Ue(e,t,n,o)};var He=t.unmount;function Ie(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=Ce({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return Ie(e,t,n)}))),e}function We(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return We(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Le(){this.__u=0,this.o=null,this.__b=null}function $e(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Fe(){this.i=null,this.l=null}t.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),He&&He(e)},(Le.prototype=new w).__c=function(e,t){var n=t.__c,o=this;null==o.o&&(o.o=[]),o.o.push(n);var i=$e(o.__v),r=!1,s=function(){r||(r=!0,n.__R=null,i?i(a):a())};n.__R=s;var a=function(){if(! --o.__u){if(o.state.__a){var e=o.state.__a;o.__v.__k[0]=We(e,e.__c.__P,e.__c.__O)}var t;for(o.setState({__a:o.__b=null});t=o.o.pop();)t.forceUpdate()}};o.__u++||32&t.__u||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(s,s)},Le.prototype.componentWillUnmount=function(){this.o=[]},Le.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=Ie(this.__b,n,o.__O=o.__P)}this.__b=null}var i=t.__a&&b(E,null,e.fallback);return i&&(i.__u&=-33),[b(E,null,t.__a?null:e.children),i]};var Be=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function ze(e){return this.getChildContext=function(){return e.context},e.children}function Ve(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){F(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var o=t.__v;null!==o&&!o.__m&&null!==o.__;)o=o.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:o.__m},contains:function(){return!0},insertBefore:function(e,n){this.childNodes.push(e),t.h.insertBefore(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.h.removeChild(e)}}}F(b(ze,{context:t.context},e.__v),t.v)}(Fe.prototype=new w).__a=function(e){var t=this,n=$e(t.__v),o=t.l.get(e);return o[0]++,function(i){var r=function(){t.props.revealOrder?(o.push(i),Be(t,e,o)):i()};n?n(r):r()}},Fe.prototype.render=function(e){this.i=null,this.l=new Map;var t=j(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Fe.prototype.componentDidUpdate=Fe.prototype.componentDidMount=function(){var e=this;this.l.forEach((function(t,n){Be(e,n,t)}))};var Ke="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Je=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ge=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ye=/[A-Z0-9]/g,Ze="undefined"!=typeof document,Xe=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function Qe(e,t,n){return null==t.__k&&(t.textContent=""),F(e,t),"function"==typeof n&&n(),e?e.__c:null}w.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(w.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var et=t.event;function tt(){}function nt(){return this.cancelBubble}function ot(){return this.defaultPrevented}t.event=function(e){return et&&(e=et(e)),e.persist=tt,e.isPropagationStopped=nt,e.isDefaultPrevented=ot,e.nativeEvent=e};var it,rt={enumerable:!1,configurable:!0,get:function(){return this.class}},st=t.vnode;t.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,o={},i=-1===n.indexOf("-");for(var r in t){var s=t[r];if(!("value"===r&&"defaultValue"in t&&null==s||Ze&&"children"===r&&"noscript"===n||"class"===r||"className"===r)){var a=r.toLowerCase();"defaultValue"===r&&"value"in t&&null==t.value?r="value":"download"===r&&!0===s?s="":"translate"===a&&"no"===s?s=!1:"o"===a[0]&&"n"===a[1]?"ondoubleclick"===a?r="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||Xe(t.type)?"onfocus"===a?r="onfocusin":"onblur"===a?r="onfocusout":Ge.test(r)&&(r=a):a=r="oninput":i&&Je.test(r)?r=r.replace(Ye,"-$&").toLowerCase():null===s&&(s=void 0),"oninput"===a&&o[r=a]&&(r="oninputCapture"),o[r]=s}}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=j(t.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=j(t.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),t.class&&!t.className?(o.class=t.class,Object.defineProperty(o,"className",rt)):(t.className&&!t.class||t.class&&t.className)&&(o.class=o.className=t.className),e.props=o}(e),e.$$typeof=Ke,st&&st(e)};var at=t.__r;t.__r=function(e){at&&at(e),it=e.__c};var ct=t.diffed;t.diffed=function(e){ct&&ct(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),it=null};var lt={ReactCurrentDispatcher:{current:{readContext:function(e){return it.__n[e.__c].props.value},useCallback:de,useContext:_e,useDebugValue:me,useDeferredValue:Pe,useEffect:ce,useId:he,useImperativeHandle:pe,useInsertionEffect:je,useLayoutEffect:le,useMemo:fe,useReducer:ae,useRef:ue,useState:se,useSyncExternalStore:Ne,useTransition:Ae}}};function ut(e){return!!e&&e.$$typeof===Ke}var pt={useState:se,useId:he,useReducer:ae,useEffect:ce,useLayoutEffect:le,useInsertionEffect:je,useTransition:Ae,useDeferredValue:Pe,useSyncExternalStore:Ne,startTransition:Se,useRef:ue,useImperativeHandle:pe,useMemo:fe,useCallback:de,useContext:_e,useDebugValue:me,version:"18.3.1",Children:qe,render:Qe,hydrate:function(e,t,n){return B(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(F(null,e),!0)},createPortal:function(e,t){var n=b(Ve,{__v:e,h:t});return n.containerInfo=t,n},createElement:b,createContext:function(e){function t(e){var n,o;return this.getChildContext||(n=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!=e.value&&n.forEach((function(e){e.__e=!0,N(e)}))},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+d++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t},createFactory:function(e){return b.bind(null,e)},cloneElement:function(e){return ut(e)?z.apply(null,arguments):e},createRef:function(){return{current:null}},Fragment:E,isValidElement:ut,isElement:ut,isFragment:function(e){return ut(e)&&e.type===E},isMemo:function(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")},findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:w,PureComponent:De,memo:function(e,t){function n(e){var n=this.props.ref,o=n==e.ref;return!o&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!o:xe(this.props,e)}function o(t){return this.shouldComponentUpdate=n,b(e,t)}return o.displayName="Memo("+(e.displayName||e.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o},forwardRef:function(e){function t(t){var n=Ce({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=Re,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},flushSync:function(e,t){return e(t)},unstable_batchedUpdates:function(e,t){return e(t)},StrictMode:E,Suspense:Le,SuspenseList:Fe,lazy:function(e){var t,n,o;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){o=e})),o)throw o;if(!n)throw t;return b(n,i)}return i.displayName="Lazy",i.__f=!0,i},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:lt},ft=n(688);const dt=({t:e})=>pt.createElement("svg",{role:"img","aria-label":e(["close"]),width:"12",height:"12",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},pt.createElement("title",null,e(["close"])),pt.createElement("line",{x1:"1",y1:"11",x2:"11",y2:"1",strokeWidth:"1"}),pt.createElement("line",{x1:"1",y1:"1",x2:"11",y2:"11",strokeWidth:"1"}));function _t(e){return e.split("-").map((e=>e.slice(0,1).toUpperCase()+e.slice(1))).join(" ")}dt.propTypes={t:n.n(ft)().func};const mt=(e,...t)=>{const n=typeof t[0];let o;o=0===t.length?{}:"string"===n||"number"===n?Array.prototype.slice.call(t):t[0];const i=[];let r=e.toString();for(;r.length>0;){const e=r.match(/\{(?!\{)([\w\d]+)\}(?!\})/);if(null!==e){const t=r.substr(0,e.index);r=r.substr(e.index+e[0].length);const n=parseInt(e[1]);i.push(t),n!=n?i.push(o[e[1]]):i.push(o[n])}else i.push(r),r=""}return i};function ht(e){if(void 0!==e&&void 0!==e.lang&&"zz"!==e.lang)return e.lang;const t=(("string"==typeof window.language?window.language:null)||document.documentElement.lang||(void 0!==e&&void 0!==e.languages&&void 0!==e.languages[0]?e.languages[0]:"en")).toLowerCase(),n=new RegExp("^([\\w]+)-([\\w]+)$").exec(t);return null===n?t:n[1]}function gt(e,t,n){let o=t;Array.isArray(o)||(o=[o]);let i=e;for(let e=0;e<o.length;e++){if(void 0===i)return n;if(void 0!==o[e]&&o[e].endsWith("?")){const t=o[e].slice(0,o[e].length-1);let n;n=i instanceof Map?i.get(t):i[t],void 0!==n&&"string"==typeof n&&(i=n)}else i=i instanceof Map?i.get(o[e]):i[o[e]]}return void 0===i||"string"!=typeof i?n:""!==i?i:void 0}function vt(e,t,n,o,...i){let r=o,s=!1;"!"===r[0]&&(r=r.slice(1),s=!0),Array.isArray(r)||(r=[r]);let a=gt(e,[t,...r]);if(void 0===a&&void 0!==n&&(a=gt(e,[n,...r])),void 0===a){if(s)return;return[`[missing translation: ${t}/${r.join("/")}]`]}return i.length>0?mt(a,...i):a}const yt=({text:e,config:t})=>{if(e instanceof Array||(e=[e]),!0===t.htmlTexts){let t=!1;"<"===e[0][0]&&(t=!0);const n=e.map(((e,t)=>"string"==typeof e?pt.createElement("span",{key:t,dangerouslySetInnerHTML:{__html:e}}):e));return t?pt.createElement(pt.Fragment,null,n):pt.createElement("span",null,n)}return pt.createElement("span",null,e)};function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},bt.apply(null,arguments)}class kt extends pt.Component{render(){const{checked:e,onlyRequiredEnabled:t,onToggle:n,name:o,lang:i,config:r,translations:s,title:a,description:c,visible:l,t:u}=this.props,p=this.props.required||!1,f=this.props.optOut||!1,d=this.props.purposes||[],_=`service-item-${o}`,m=`${_}-title`,h=d.map((e=>u(["!","purposes",e,"title?"])||_t(e))).join(", "),g=f?pt.createElement("span",{className:"cm-opt-out",title:u(["service","optOut","description"])},u(["service","optOut","title"])):"",v=p?pt.createElement("span",{className:"cm-required",title:u(["service","required","description"])},u(["service","required","title"])):"";let y;d.length>0&&(y=pt.createElement("p",{className:"purposes"},u(["service",d.length>1?"purposes":"purpose"]),": ",h));const b=c||vt(s,i,"zz",["!","description"])||u(["!",o,"description?"]);return pt.createElement("div",null,pt.createElement("input",{id:_,className:"cm-list-input"+(p?" required":"")+(t?" half-checked only-required":""),"aria-labelledby":`${m}`,"aria-describedby":`${_}-description`,disabled:p,checked:e||p,tabIndex:l?"0":"-1",type:"checkbox",onChange:e=>{n(e.target.checked)}}),pt.createElement("label",bt({htmlFor:_,className:"cm-list-label"},p?{tabIndex:"0"}:{}),pt.createElement("span",{className:"cm-list-title",id:`${m}`},a||vt(s,i,"zz",["!","title"])||u(["!",o,"title?"])||_t(o)),v,g,pt.createElement("span",{className:"cm-switch"},pt.createElement("div",{className:"slider round active"}))),pt.createElement("div",{id:`${_}-description`},b&&pt.createElement("p",{className:"cm-list-description"},pt.createElement(yt,{config:r,text:b})),y))}}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Et.apply(null,arguments)}const wt=({services:e,config:t,consents:n,lang:o,toggle:i,visible:r,t:s})=>e.map((e=>{const a=n[e.name];return pt.createElement("li",{key:e.name,className:"cm-service"},pt.createElement(kt,Et({checked:a||e.required,onToggle:t=>{i([e],t)},config:t,lang:o,visible:r,t:s},e)))}));class Ct extends pt.Component{constructor(e){super(e),e.manager.watch(this),this.state={consents:e.manager.consents}}componentWillUnmount(){this.props.manager.unwatch(this)}update(e,t,n){e===this.props.manager&&"consents"===t&&this.setState({consents:n})}render(){const{config:e,t,manager:n,lang:o}=this.props,{consents:i}=this.state,{services:r}=e,s=(e,t)=>{e.map((e=>{e.required||n.updateConsent(e.name,t)}))},a=pt.createElement(wt,{config:e,lang:o,services:r,t,consents:i,toggle:s}),c=r.filter((e=>!e.required)),l=c.filter((e=>i[e.name])).length,u=r.filter((e=>e.required)).length,p=l===c.length;return r.filter((e=>e.required)).length,pt.createElement("ul",{className:"cm-services"},a,!e.hideToggleAll&&c.length>1&&pt.createElement("li",{className:"cm-service cm-toggle-all"},pt.createElement(kt,{name:"disableAll",title:t(["service","disableAll","title"]),description:t(["service","disableAll","description"]),checked:p,config:e,onlyRequiredEnabled:!p&&u>0,onToggle:e=>{s(r,e)},lang:o,t})))}}function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},xt.apply(null,arguments)}class Nt extends pt.Component{constructor(e){super(e),this.state={servicesVisible:!1}}render(){const{allEnabled:e,onlyRequiredEnabled:t,allDisabled:n,services:o,config:i,onToggle:r,name:s,lang:a,manager:c,consents:l,title:u,description:p,t:f}=this.props,{servicesVisible:d}=this.state,_=this.props.required||!1,m=this.props.purposes||[],h=`purpose-item-${s}`,g=`${h}-title`,v=m.map((e=>f(["!","purposes",e,"title?"])||_t(e))).join(", "),y=_?pt.createElement("span",{className:"cm-required",title:f(["!","service","required","description"])||""},f(["service","required","title"])):"";let b;m.length>0&&(b=pt.createElement("p",{className:"purposes"},f(["purpose",m.length>1?"purposes":"purpose"]),": ",v));const k=e=>{e.preventDefault();const t="false"!==e.currentTarget.getAttribute("aria-expanded");e.currentTarget.setAttribute("aria-expanded",!t),this.setState({servicesVisible:!d})},E=pt.createElement(wt,{config:i,lang:a,services:o,toggle:(e,t)=>{e.map((e=>{e.required||c.updateConsent(e.name,t)}))},consents:l,visible:d,t:f}),w=p||f(["!","purposes",s,"description"]);return pt.createElement(pt.Fragment,null,pt.createElement("input",{id:h,className:"cm-list-input"+(_?" required":"")+(e?"":t?" only-required":" half-checked"),"aria-labelledby":`${g}`,"aria-describedby":`${h}-description`,disabled:_,checked:e||!n&&!t,type:"checkbox",onChange:e=>{r(e.target.checked)}}),pt.createElement("label",xt({htmlFor:h,className:"cm-list-label"},_?{tabIndex:"0"}:{}),pt.createElement("span",{className:"cm-list-title",id:`${g}`},u||f(["!","purposes",s,"title?"])||_t(s)),y,pt.createElement("span",{className:"cm-switch"},pt.createElement("div",{className:"slider round active"}))),pt.createElement("div",{id:`${h}-description`},w&&pt.createElement("p",{className:"cm-list-description"},pt.createElement(yt,{config:i,text:w})),b),o.length>0&&pt.createElement("div",{className:"cm-services"},pt.createElement("div",{className:"cm-caret"},pt.createElement("a",{href:"#","aria-haspopup":"true","aria-expanded":"false",tabIndex:"0",onClick:k,onKeyDown:e=>{32===e.keyCode&&k(e)}},d&&pt.createElement("span",null,"↑")||pt.createElement("span",null,"↓")," ",o.length," ",f(["purposeItem",o.length>1?"services":"service"]))),pt.createElement("ul",{className:"cm-content"+(d?" expanded":"")},E)))}}class Ot extends pt.Component{constructor(e){super(e),e.manager.watch(this),this.state={consents:e.manager.consents}}componentWillUnmount(){this.props.manager.unwatch(this)}update(e,t,n){e===this.props.manager&&"consents"===t&&this.setState({consents:n})}render(){const{config:e,t,manager:n,lang:o}=this.props,{consents:i}=this.state,{services:r}=e,s={};for(const e of r)for(const t of e.purposes)void 0===s[t]&&(s[t]=[]),s[t].push(e);const a=(e,t)=>{e.map((e=>{const o=s[e];for(const e of o)e.required||n.updateConsent(e.name,t)}))},c=e=>{const t={allEnabled:!0,onlyRequiredEnabled:!0,allDisabled:!0,allRequired:!0};for(const n of e)n.required||(t.allRequired=!1),i[n.name]?(n.required||(t.onlyRequiredEnabled=!1),t.allDisabled=!1):n.required||(t.allEnabled=!1);return t.allDisabled&&(t.onlyRequiredEnabled=!1),t},l=e.purposeOrder||[],u=Object.keys(s).sort(((e,t)=>l.indexOf(e)-l.indexOf(t))).map((r=>{const l=c(s[r]);return pt.createElement("li",{key:r,className:"cm-purpose"},pt.createElement(Nt,{allEnabled:l.allEnabled,allDisabled:l.allDisabled,onlyRequiredEnabled:l.onlyRequiredEnabled,required:l.allRequired,consents:i,name:r,config:e,lang:o,manager:n,onToggle:e=>{a([r],e)},services:s[r],t}))})),p=Object.keys(s).filter((e=>{for(const t of s[e])if(!t.required)return!0;return!1})),f=c(r);return pt.createElement("ul",{className:"cm-purposes"},u,p.length>1&&pt.createElement("li",{className:"cm-purpose cm-toggle-all"},pt.createElement(Nt,{name:"disableAll",title:t(["service","disableAll","title"]),description:t(["service","disableAll","description"]),allDisabled:f.allDisabled,allEnabled:f.allEnabled,onlyRequiredEnabled:f.onlyRequiredEnabled,onToggle:e=>{a(Object.keys(s),e)},manager:n,consents:i,config:e,lang:o,services:[],t})))}}class St extends pt.Component{componentDidMount(){this.consentModalRef&&this.consentModalRef.focus()}render(){const{hide:e,confirming:t,saveAndHide:n,acceptAndHide:o,declineAndHide:i,config:r,manager:s,lang:a,t:c}=this.props,{embedded:l}=r,u=void 0===r.groupByPurpose||r.groupByPurpose;let p,f,d;r.mustConsent||(p=pt.createElement("button",{title:c(["close"]),"aria-label":c(["close"]),className:"hide",type:"button",onClick:e,tabIndex:"0",ref:e=>{this.consentModalRef=e}},pt.createElement(dt,{t:c}))),r.hideDeclineAll||s.confirmed||(f=pt.createElement("button",{disabled:t,className:"cm-btn cm-btn-decline cm-btn-danger cn-decline",type:"button",onClick:i},c(["decline"])));const _=pt.createElement("button",{disabled:t,className:"cm-btn cm-btn-success cm-btn-info cm-btn-accept",type:"button",onClick:n},c([s.confirmed?"save":"acceptSelected"]));let m,h,g;r.acceptAll&&!s.confirmed&&(d=pt.createElement("button",{disabled:t,className:"cm-btn cm-btn-success cm-btn-accept-all",type:"button",onClick:o},c(["acceptAll"]))),void 0!==r.privacyPolicy?"string"==typeof r.privacyPolicy?m=r.privacyPolicy:"object"==typeof r.privacyPolicy&&(m=r.privacyPolicy[a]||r.privacyPolicy.default):(m=c(["!","privacyPolicyUrl"],{lang:a}),void 0!==m&&(m=m.join(""))),void 0!==m&&(h=pt.createElement("a",{key:"ppLink",href:m,target:"_blank",rel:"noopener"},c(["privacyPolicy","name"]))),g=u?pt.createElement(Ot,{t:c,config:r,manager:s,lang:a}):pt.createElement(Ct,{t:c,config:r,manager:s,lang:a});const v=pt.createElement("div",{className:"cm-modal cm-klaro"},pt.createElement("div",{className:"cm-header"},p,pt.createElement("h1",{className:"title"},pt.createElement(yt,{config:r,text:c(["consentModal","title"])})),pt.createElement("p",null,pt.createElement(yt,{config:r,text:[c(["consentModal","description"])].concat(h&&[" "].concat(c(["privacyPolicy","text"],{privacyPolicy:h}))||[])}))),pt.createElement("div",{className:"cm-body"},g),pt.createElement("div",{className:"cm-footer"},pt.createElement("div",{className:"cm-footer-buttons"},f,_,d),!r.disablePoweredBy&&pt.createElement("p",{className:"cm-powered-by"},pt.createElement("a",{target:"_blank",href:r.poweredBy||"https://kiprotect.com/klaro",rel:"noopener"},c(["poweredBy"])))));return l?pt.createElement("div",{id:"cookieScreen",className:"cookie-modal cm-embedded"},v):pt.createElement("div",{id:"cookieScreen",className:"cookie-modal"},pt.createElement("div",{className:"cm-bg",onClick:e}),v)}}function Pt(e,t,n){void 0===n&&(n=!0);const o=Object.keys(t);for(let i=0;i<o.length;i++){const r=o[i],s=t[r],a=e[r];"string"==typeof s?(n||void 0===a)&&(e[r]=s):"object"==typeof s&&("object"==typeof a?Pt(a,s,n):(n||void 0===a)&&(e[r]=s))}return e}function At(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class jt extends pt.Component{constructor(e){super(e),At(this,"executeButtonClicked",((e,t,n)=>{const{modal:o}=this.state;let i=0;e&&(i=this.props.manager.changeAll(t));const r=this.props.manager.confirmed;if(this.props.manager.saveAndApplyConsents(n),e&&!r&&(o||this.props.config.mustConsent)){const e=()=>{this.setState({confirming:!1}),this.props.hide()};this.setState({confirming:!0}),0===i?e():setTimeout(e,800)}else this.props.hide()})),At(this,"saveAndHide",(()=>{this.executeButtonClicked(!1,!1,"save")})),At(this,"acceptAndHide",(()=>{this.executeButtonClicked(!0,!0,"accept")})),At(this,"declineAndHide",(()=>{this.executeButtonClicked(!0,!1,"decline")})),this.state={modal:e.modal,confirming:!1}}componentDidMount(){this.props.config.autoFocus&&this.noticeRef&&this.noticeRef.focus()}componentDidUpdate(e){e.modal!==this.props.modal&&this.setState({modal:this.props.modal}),this.noticeRef&&this.noticeRef.focus()}render(){const{lang:e,config:t,show:n,manager:o,testing:i,t:r}=this.props,{confirming:s,modal:a}=this.state,{embedded:c,noticeAsModal:l,hideLearnMore:u}=t,p=t.purposeOrder||[],f=function(e){const t=new Set([]);for(let n=0;n<e.services.length;n++){const o=e.services[n].purposes||[];for(let e=0;e<o.length;e++)t.add(o[e])}return Array.from(t)}(t).filter((e=>"functional"!==e)).sort(((e,t)=>p.indexOf(e)-p.indexOf(t))),d=f.map((e=>r(["!","purposes",e,"title?"])||_t(e)));let _,m="";m=1===d.length?d[0]:[...d.slice(0,-2),d.slice(-2).join(" & ")].join(", "),void 0!==t.privacyPolicy?"string"==typeof t.privacyPolicy?_=t.privacyPolicy:"object"==typeof t.privacyPolicy&&(_=t.privacyPolicy[e]||t.privacyPolicy.default):(_=r(["!","privacyPolicyUrl"],{lang:e}),void 0!==_&&(_=_.join("")));const h=e=>{e.preventDefault(),this.setState({modal:!0})};let g;if(o.changed&&(g=pt.createElement("p",{className:"cn-changes"},r(["consentNotice","changeDescription"]))),!n&&!i&&!s)return pt.createElement("div",null);const v=(!t.mustConsent||l)&&!o.confirmed&&!t.noNotice,y=t.hideDeclineAll?"":pt.createElement("button",{className:"cm-btn cm-btn-danger cn-decline",type:"button",onClick:this.declineAndHide},r(["decline"])),b=t.acceptAll?pt.createElement("button",{className:"cm-btn cm-btn-success",type:"button",onClick:this.acceptAndHide},r(["ok"])):pt.createElement("button",{className:"cm-btn cm-btn-success",type:"button",onClick:this.saveAndHide},r(["ok"])),k=()=>l?pt.createElement("button",{key:"learnMoreLink",className:"cm-btn cm-btn-lern-more cm-btn-info",type:"button",onClick:h},r(["consentNotice","learnMore"])):pt.createElement("a",{key:"learnMoreLink",className:"cm-link cn-learn-more",href:"#",onClick:h},r(["consentNotice","learnMore"]));let E;if(void 0!==_&&(E=pt.createElement("a",{key:"ppLink",href:_},r(["privacyPolicy","name"]))),a||o.confirmed&&!i||!o.confirmed&&t.mustConsent)return pt.createElement(St,{t:r,lang:e,config:t,hide:()=>{t.mustConsent&&!t.acceptAll||(o.confirmed&&!i?this.props.hide():this.setState({modal:!1}),setTimeout((()=>{this.noticeRef&&this.noticeRef.focus()}),1))},confirming:s,declineAndHide:this.declineAndHide,saveAndHide:this.saveAndHide,acceptAndHide:this.acceptAndHide,manager:o});const w=pt.createElement("div",{role:"dialog","aria-describedby":"id-cookie-notice","aria-labelledby":"id-cookie-title",id:"klaro-cookie-notice",tabIndex:"0",autofocus:t.autoFocus,ref:e=>{this.noticeRef=e},className:`cookie-notice ${v||i?"":"cookie-notice-hidden"} ${l?"cookie-modal-notice":""} ${c?"cn-embedded":""}`},pt.createElement("div",{className:"cn-body"},r(["!","consentNotice","title"])&&t.showNoticeTitle&&pt.createElement("h2",{id:"id-cookie-title"},r(["consentNotice","title"])),pt.createElement("p",{id:"id-cookie-notice"},pt.createElement(yt,{config:t,text:r(["consentNotice","description"],{purposes:pt.createElement("strong",{key:"strong"},m),privacyPolicy:E,learnMoreLink:k()})})),i&&pt.createElement("p",null,r(["consentNotice","testing"])),g,pt.createElement("div",{className:"cn-ok"},!u&&k(),pt.createElement("div",{className:"cn-buttons"},y,b))));return l?pt.createElement("div",{id:"cookieScreen",className:"cookie-modal"},pt.createElement("div",{className:"cm-bg"}),w):w}}class Dt extends pt.Component{constructor(e){super(e),e.manager.watch(this),this.state={show:e.show>0||!e.manager.confirmed}}componentWillUnmount(){this.props.manager.unwatch(this)}update(e,t){e===this.props.manager&&"applyConsents"===t&&(!this.props.config.embedded&&this.props.manager.confirmed?this.setState({show:!1}):this.forceUpdate())}notifyApi(){const{api:e,modal:t,show:n,config:o}=this.props;if(void 0!==e){if(t||n>0)return;this.props.manager.confirmed||this.props.manager.auxiliaryStore.getWithKey("shown-before")||(e.update(this,"showNotice",{config:o}),this.props.manager.auxiliaryStore.setWithKey("shown-before",!0))}}componentDidMount(){this.notifyApi()}componentDidUpdate(e){if(e.show===this.props.show)return;this.notifyApi();const t=this.props.show>0||!this.props.manager.confirmed;t!==this.state.show&&this.setState({show:t})}render(){const{config:e,t,lang:n,testing:o,manager:i,modal:r}=this.props,{show:s}=this.state,{additionalClass:a,embedded:c,stylePrefix:l}=e;return pt.createElement("div",{lang:n,className:(l||"klaro")+(void 0!==a?" "+a:"")},pt.createElement(jt,{key:"app-"+this.props.show,t,testing:o,show:s,lang:n,modal:r,hide:()=>{c||this.setState({show:!1})},config:e,manager:i}))}}const Tt=({manager:e,style:t,config:n,t:o,lang:i,service:r})=>{const[s,a]=se(0),{additionalClass:c,embedded:l,stylePrefix:u}=n;ce((()=>{const t={update:()=>a(s+1)};return e.watch(t),()=>{e.unwatch(t)}}));const p=vt(r.translations||{},i,"zz",["!","title"])||o(["!",r.name,"title?"])||_t(r.name);return pt.createElement("div",{lang:i,className:(u||"klaro")+(void 0!==c?" "+c:"")+" cm-as-context-notice"},pt.createElement("div",{className:"context-notice"+(void 0!==t?` cm-${t}`:"")},pt.createElement("p",null,o(["contextualConsent","description"],{title:p})),pt.createElement("p",{className:"cm-buttons"},pt.createElement("button",{className:"cm-btn cm-btn-success",type:"button",onClick:()=>{e.updateConsent(r.name,!0),e.applyConsents(!1,!0,r.name),e.updateConsent(r.name,!1)}},o(["contextualConsent","acceptOnce"])),null!==e.store.get()?pt.createElement("button",{className:"cm-btn cm-btn-success-var",type:"button",onClick:()=>{e.updateConsent(r.name,!0),e.confirmed?(e.saveConsents("contextual-accept"),e.applyConsents(!1,!0,r.name)):e.applyConsents(!1,!0,r.name)}},o(["contextualConsent","acceptAlways"])):""),null===e.store.get()&&n.showDescriptionEmptyStore?pt.createElement(pt.Fragment,null,pt.createElement("p",{className:"ccn-description-empty-store"},o(["contextualConsent","descriptionEmptyStore"],{title:p,link:pt.createElement("a",{key:"modalLink",className:"ccn-modal-link",href:"#",onClick:e=>{e.preventDefault(),vn(n,!0)}},o(["contextualConsent","modalLinkText"]))}))):""))};function Rt(){const e=document.cookie.split(";"),t=[],n=new RegExp("^\\s*([^=]+)\\s*=\\s*(.*?)$");for(let o=0;o<e.length;o++){const i=e[o],r=n.exec(i);null!==r&&t.push({name:r[1],value:r[2]})}return t}function Mt(e,t,n){let o=e+"=; Max-Age=-99999999;";document.cookie=o,o+=" path="+(t||"/")+";",document.cookie=o,void 0!==n&&(o+=" domain="+n+";",document.cookie=o)}function qt(e){const t={};for(let n=0;n<e.attributes.length;n++){const o=e.attributes[n];o.name.startsWith("data-")&&(t[o.name.slice(5)]=o.value)}return t}function Ut(e,t){const n=Object.keys(e);for(let o=0;o<n.length;o++){const i=n[o],r=e[i];t[i]!==r&&t.setAttribute("data-"+i,r)}}class Ht{constructor(e,t){this.key=e.storageName,this.handle=t}get(){return this.handle.getItem(this.key)}getWithKey(e){return this.handle.getItem(e)}set(e){return this.handle.setItem(this.key,e)}setWithKey(e,t){return this.handle.setItem(e,t)}delete(){return this.handle.removeItem(this.key)}deleteWithKey(e){return this.handle.removeItem(e)}}class It extends Ht{constructor(e){super(e,sessionStorage)}}const Wt={cookie:class{constructor(e){this.cookieName=e.storageName,this.cookieDomain=e.cookieDomain,this.cookiePath=e.cookiePath,this.cookieExpiresAfterDays=e.cookieExpiresAfterDays}get(){const e=function(e){const t=Rt();for(let n=0;n<t.length;n++)if(t[n].name===e)return t[n];return null}(this.cookieName);return e?e.value:null}set(e){return function(e,t,n,o,i){let r="";if(n){const e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),r="; expires="+e.toUTCString()}void 0!==o&&(r+="; domain="+o),r+=void 0!==i?"; path="+i:"; path=/",document.cookie=e+"="+(t||"")+r+"; SameSite=Lax"}(this.cookieName,e,this.cookieExpiresAfterDays,this.cookieDomain,this.cookiePath)}delete(){return Mt(this.cookieName)}},test:class{constructor(){this.value=null}get(){return this.value}set(e){this.value=e}delete(){this.value=null}},localStorage:class extends Ht{constructor(e){super(e,localStorage)}},sessionStorage:It},Lt=Wt;function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class zt{constructor(e,t,n){this.config=e,this.store=void 0!==t?t:new Lt[this.storageMethod](this),void 0===this.store&&(this.store=Lt.cookie),this.auxiliaryStore=void 0!==n?n:new It(this),this.consents=this.defaultConsents,this.confirmed=!1,this.changed=!1,this.states={},this.initialized={},this.executedOnce={},this.watchers=new Set([]),this.loadConsents(),this.applyConsents(),this.savedConsents=Ft({},this.consents)}get storageMethod(){return this.config.storageMethod||"cookie"}get storageName(){return this.config.storageName||this.config.cookieName||"klaro"}get cookieDomain(){return this.config.cookieDomain||void 0}get cookiePath(){return this.config.cookiePath||void 0}get cookieExpiresAfterDays(){return this.config.cookieExpiresAfterDays||120}get defaultConsents(){const e={};for(let t=0;t<this.config.services.length;t++){const n=this.config.services[t];e[n.name]=this.getDefaultConsent(n)}return e}watch(e){this.watchers.has(e)||this.watchers.add(e)}unwatch(e){this.watchers.has(e)&&this.watchers.delete(e)}notify(e,t){this.watchers.forEach((n=>{n.update(this,e,t)}))}getService(e){const t=this.config.services.filter((t=>t.name===e));if(t.length>0)return t[0]}getDefaultConsent(e){let t=e.default||e.required;return void 0===t&&(t=this.config.default),void 0===t&&(t=!1),t}changeAll(e){let t=0;return this.config.services.filter((e=>!e.contextualConsentOnly)).map((n=>{n.required||this.config.required||e?this.updateConsent(n.name,!0)&&t++:this.updateConsent(n.name,!1)&&t++})),t}updateConsent(e,t){const n=(this.consents[e]||!1)!==t;return this.consents[e]=t,this.notify("consents",this.consents),n}resetConsents(){this.consents=this.defaultConsents,this.states={},this.confirmed=!1,this.applyConsents(),this.savedConsents=Ft({},this.consents),this.store.delete(),this.notify("consents",this.consents)}getConsent(e){return this.consents[e]||!1}loadConsents(){const e=this.store.get();return null!==e&&(this.consents=JSON.parse(decodeURIComponent(e)),this._checkConsents(),this.notify("consents",this.consents)),this.consents}saveAndApplyConsents(e){this.saveConsents(e),this.applyConsents()}changedConsents(){const e={};for(const[t,n]of Object.entries(this.consents))this.savedConsents[t]!==n&&(e[t]=n);return e}saveConsents(e){const t=encodeURIComponent(JSON.stringify(this.consents));this.store.set(t),this.confirmed=!0,this.changed=!1;const n=this.changedConsents();this.savedConsents=Ft({},this.consents),this.notify("saveConsents",{changes:n,consents:this.consents,type:e||"script"})}applyConsents(e,t,n){function o(e,t){if(void 0===e)return;let n;return n="function"==typeof e?e:new Function("opts",e),n(t)}let i=0;for(let e=0;e<this.config.services.length;e++){const t=this.config.services[e];if(void 0!==n&&n!==t.name)continue;const i=t.vars||{},r={service:t,config:this.config,vars:i};this.initialized[t.name]||(this.initialized[t.name]=!0,o(t.onInit,r))}for(let r=0;r<this.config.services.length;r++){const s=this.config.services[r];if(void 0!==n&&n!==s.name)continue;const a=this.states[s.name],c=s.vars||{},l=void 0!==s.optOut?s.optOut:this.config.optOut||!1,u=void 0!==s.required?s.required:this.config.required||!1,p=this.confirmed||l||e||t,f=this.getConsent(s.name)&&p||u,d={service:s,config:this.config,vars:c,consents:this.consents,confirmed:this.confirmed};a!==f&&i++,e||(o(f?s.onAccept:s.onDecline,d),this.updateServiceElements(s,f),this.updateServiceStorage(s,f),void 0!==s.callback&&s.callback(f,s),void 0!==this.config.callback&&this.config.callback(f,s),this.states[s.name]=f)}return this.notify("applyConsents",i,n),i}updateServiceElements(e,t){if(t){if(e.onlyOnce&&this.executedOnce[e.name])return;this.executedOnce[e.name]=!0}const n=document.querySelectorAll("[data-name='"+e.name+"']");for(let o=0;o<n.length;o++){const i=n[o],r=i.parentElement,s=qt(i),{type:a,src:c,href:l}=s,u=["href","src","type"];if("placeholder"!==a)if("IFRAME"===i.tagName){if(t&&i.src===c){console.debug(`Skipping ${i.tagName} for service ${e.name}, as it already has the correct type...`);continue}const n=document.createElement(i.tagName);for(const e of i.attributes)if("style"===e.name){const[t,o]=e.value.split(":");n.style[t.trim()]=o.trim()}else n.setAttribute(e.name,e.value);n.innerText=i.innerText,n.text=i.text,t?(void 0!==s["original-display"]&&(n.style.display=s["original-display"]),void 0!==s.src&&(n.src=s.src)):(n.src="",void 0!==s["modified-by-klaro"]&&void 0!==s["original-display"]?n.setAttribute("data-original-display",s["original-display"]):(void 0!==i.style.display&&n.setAttribute("data-original-display",i.style.display),n.setAttribute("data-modified-by-klaro","yes")),n.style.display="none"),r.insertBefore(n,i),r.removeChild(i)}else if("SCRIPT"===i.tagName||"LINK"===i.tagName){if(t&&i.type===(a||"")&&i.src===c){console.debug(`Skipping ${i.tagName} for service ${e.name}, as it already has the correct type or src...`);continue}const n=document.createElement(i.tagName);for(const e of i.attributes)n.setAttribute(e.name,e.value);i.hasAttribute("nonce")&&n.setAttribute("nonce",i.nonce),n.innerText=i.innerText,n.text=i.text,t?(n.type=a||"",void 0!==c&&(n.src=c),void 0!==l&&(n.href=l)):n.type="text/plain",r.insertBefore(n,i),r.removeChild(i)}else{if(t){for(const e of u){const t=s[e];void 0!==t&&(void 0===s["original-"+e]&&(s["original-"+e]=i[e]),i[e]=t)}void 0!==s.title&&(i.title=s.title),void 0!==s["original-display"]?i.style.display=s["original-display"]:i.style.removeProperty("display")}else{void 0!==s.title&&i.removeAttribute("title"),void 0===s["original-display"]&&void 0!==i.style.display&&(s["original-display"]=i.style.display),i.style.display="none";for(const e of u)void 0!==s[e]&&(void 0!==s["original-"+e]?i[e]=s["original-"+e]:i.removeAttribute(e))}Ut(s,i)}else t?(i.style.display="none",s["original-display"]=i.style.display):i.style.display=s["original-display"]||"block"}}updateServiceStorage(e,t){if(!t&&void 0!==e.cookies&&e.cookies.length>0){const t=Rt();for(let n=0;n<e.cookies.length;n++){let o,i,r=e.cookies[n];if(r instanceof Array)[r,o,i]=r;else if(r instanceof Object&&!(r instanceof RegExp)){const e=r;r=e.pattern,o=e.path,i=e.domain}if(void 0!==r){r instanceof RegExp||(r=r.startsWith("^")?new RegExp(r):new RegExp("^"+r.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")+"$"));for(let e=0;e<t.length;e++){const n=t[e];null!==r.exec(n.name)&&(console.debug("Deleting cookie:",n.name,"Matched pattern:",r,"Path:",o,"Domain:",i),Mt(n.name,o,i),void 0===i&&Mt(n.name,o,"."+window.location.hostname))}}}}}_checkConsents(){let e=!0;const t=new Set(this.config.services.map((e=>e.name))),n=new Set(Object.keys(this.consents));for(const e of Object.keys(this.consents))t.has(e)||delete this.consents[e];for(const t of this.config.services)n.has(t.name)||(this.consents[t.name]=this.getDefaultConsent(t),e=!1);this.confirmed=e,e||(this.changed=!0)}}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Gt{constructor(e,t,n){this.url=e,this.id=t,this.opts=Object.assign({},n)}getLocationData(e){const t=e.records||{};return{pathname:void 0===t.savePathname||t.savePathname?location.pathname:void 0,port:""!==location.port?parseInt(location.port):0,hostname:location.hostname,protocol:location.protocol.slice(0,location.protocol.length-1)}}getUserData(){return{client_version:En(),client_name:"klaro:web"}}getBaseConsentData(e){return{location_data:this.getLocationData(e),user_data:this.getUserData(e)}}update(e,t,n){if("saveConsents"===t){if("save"===n.type&&0===Object.keys(n.changes).length)return;const t=Kt(Kt({},this.getBaseConsentData(e.config)),{},{consent_data:{consents:n.consents,changes:"save"===n.type?n.changes:void 0,type:n.type,config:e.config.id}});this.submitConsentData(t)}else if("showNotice"===t){const e=Kt(Kt({},this.getBaseConsentData(n.config)),{},{consent_data:{consents:{},changes:{},type:"show",config:n.config.id}});this.submitConsentData(e)}}apiRequest(e,t,n,o){return new Promise(((i,r)=>{const s=new XMLHttpRequest;let a;var c;s.addEventListener("load",(()=>{const e=JSON.parse(s.response);s.status<200||s.status>=300?(e.status=s.status,r(e)):i(e,s.status)})),s.addEventListener("error",(()=>{r({status:0,xhr:s})})),void 0!==n&&("GET"===e?t+="?"+(c=n,"?"+Object.keys(c).map((function(e){return e+"="+encodeURIComponent(c[e])})).join("&")):a=JSON.stringify(n)),s.open(e,this.url+t),void 0!==a&&s.setRequestHeader("Content-Type",o||"application/json;charset=UTF-8"),s.send(a)}))}submitConsentData(e){return this.apiRequest("POST","/v1/privacy-managers/"+this.id+"/submit",e,"text/plain;charset=UTF-8")}loadConfig(e){return this.apiRequest("GET","/v1/privacy-managers/"+this.id+"/config.json?name="+e+(this.opts.testing?"&testing=true":""))}loadConfigs(){return this.apiRequest("GET","/v1/privacy-managers/"+this.id+"/configs.json"+(this.opts.testing?"&testing=true":""))}}function Yt(e){const t=new Map([]);for(const n of Object.keys(e)){const o=e[n];"string"==typeof n&&("string"==typeof o||null===o?t.set(n,o):t.set(n,Yt(o)))}return t}function Zt(e,t,n,o){const i=(e,t,n)=>{if(n instanceof Map){const o=new Map([]);Zt(o,n,!0,!1),e.set(t,o)}else e.set(t,n)};if(!(t instanceof Map&&e instanceof Map))throw new Error("Parameters are not maps!");void 0===n&&(n=!0),void 0===o&&(o=!1),o&&(e=new e.constructor(e));for(const r of t.keys()){const s=t.get(r),a=e.get(r);if(e.has(r))if(s instanceof Map&&a instanceof Map)e.set(r,Zt(a,s,n,o));else{if(!n)continue;i(e,r,s)}else i(e,r,s)}return e}const Xt={top:{_meta:{incompatibleWith:["bottom"]},"notice-top":"20px","notice-bottom":"auto"},bottom:{_meta:{incompatibleWith:["top"]},"notice-bottom":"20px","notice-top":"auto"},left:{_meta:{incompatibleWith:["wide"]},"notice-left":"20px","notice-right":"auto"},right:{_meta:{incompatibleWith:["wide"]},"notice-right":"20px","notice-left":"auto"},wide:{"notice-left":"20px","notice-right":"auto","notice-max-width":"calc(100vw - 60px)","notice-position":"fixed"},light:{"button-text-color":"#fff",dark1:"#fafafa",dark2:"#777",dark3:"#555",light1:"#444",light2:"#666",light3:"#111",green3:"#f00"}};function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let nn;const on=new Map([]),rn={},sn={};function an(e,t){return(e.elementID||"klaro")+(t?"-ide":"")}function cn(e,t){const n=an(e,t);let o=document.getElementById(n);return null===o&&(o=document.createElement("div"),o.id=n,document.body.appendChild(o)),o}function ln(e,t){if(void 0===rn[e]?rn[e]=[t]:rn[e].push(t),void 0!==sn[e])for(const n of sn[e])if(!1===t(...n))break}function un(e,...t){const n=rn[e];if(void 0===sn[e]?sn[e]=[t]:sn[e].push(t),void 0!==n)for(const e of n)if(!0===e(...t))return!0}function pn(e){const t=new Map([]);return Zt(t,on),Zt(t,Yt(e.translations||{})),t}let fn=1;function dn(e,t){if(void 0===e)return;t=t||{},un("render",e=hn(e),t);let n=0;t.show&&(n=fn++);const o=cn(e),i=kn(e);void 0!==t.api&&i.watch(t.api),function(e,t,n){if(void 0===e.styling)return;let o=Object.assign({},e.styling);if(void 0!==o.theme){let n=o.theme;n instanceof Array||(n=[n]),o={};for(const e of n){const n=t[e];if(void 0!==n)for(const[e,t]of Object.entries(n))e.startsWith("_")||(o[e]=t)}for(const[t,n]of Object.entries(e.styling))"theme"!==t&&(o[t]=n)}void 0===n&&(n=document.documentElement);for(const[e,t]of Object.entries(o))n.style.setProperty("--"+e,t);window.document.documentMode&&n===document.documentElement&&function(e){const t=document.querySelectorAll("style[data-context=klaro-styles]");for(const n of t){let t=n.innerText;void 0!==n.styleSheet&&(t=n.styleSheet.cssText);for(const[n,o]of Object.entries(e)){const e=new RegExp("([a-z0-9-]+):[^;]+;[\\s\\n]*\\1:\\s*var\\(--"+n+",\\s*[^\\)]+\\)","g");t=t.replace(e,((e,t)=>`${t}: ${o}; ${t}: var(--${n}, ${o})`))}const o=document.createElement("style");o.setAttribute("type","text/css"),o.setAttribute("data-context","klaro-styles"),void 0!==o.styleSheet?o.styleSheet.cssText=t:o.innerText=t,n.parentElement.appendChild(o),n.parentElement.removeChild(n)}}(o)}(e,Xt,o);const r=ht(e),s=pn(e),a=(...t)=>vt(s,r,e.fallbackLang||"zz",...t),c=Qe(pt.createElement(Dt,{t:a,lang:r,manager:i,config:e,testing:t.testing,modal:t.modal,api:t.api,show:n}),o);return _n(i,a,r,e,t),c}function _n(e,t,n,o,i){const r=[];for(const s of o.services){const a=e.getConsent(s.name)&&(e.confirmed||s.optOut),c=document.querySelectorAll("[data-name='"+s.name+"']");for(const l of c){const c=qt(l);if("placeholder"!==c.type&&("IFRAME"===l.tagName||"DIV"===l.tagName)){let u=l.previousElementSibling;if(null!==u){const e=qt(u);"placeholder"===e.type&&e.name===s.name||(u=null)}if(null===u){u=document.createElement("DIV"),u.style.maxWidth=l.width+"px",u.style.height=l.height+"px",Ut({type:"placeholder",name:s.name},u),a&&(u.style.display="none"),l.parentElement.insertBefore(u,l);const p=Qe(pt.createElement(Tt,{t,lang:n,manager:e,config:o,service:s,style:c.style,testing:i.testing,api:i.api}),u);r.push(p)}"IFRAME"===l.tagName&&(c.src=l.src),void 0===c["modified-by-klaro"]&&void 0===l.style.display&&(c["original-display"]=l.style.display),c["modified-by-klaro"]="yes",Ut(c,l),a||(l.src="",l.style.display="none")}}}return r}function mn(e){/complete|interactive|loaded/.test(document.readyState)?e():window.addEventListener("DOMContentLoaded",e)}function hn(e){const t=en({},e);return 2===t.version||(void 0!==t.apps&&void 0===t.services&&(t.services=t.apps,console.warn("Warning, your configuration file is outdated. Please change `apps` to `services`"),delete t.apps),void 0!==t.translations&&void 0!==t.translations.apps&&void 0===t.services&&(t.translations.services=t.translations.apps,console.warn("Warning, your configuration file is outdated. Please change `apps` to `services` in the `translations` key"),delete t.translations.apps)),t}function gn(e){if(void 0===window)return;const t=function(){if(null!==document.currentScript&&void 0!==document.currentScript)return document.currentScript;const e=document.getElementsByTagName("script");for(let t=0;t<e.length;t++){const n=e[t];if(n.src.includes("klaro"))return n}return null}(),n=new Map(decodeURI(location.hash.slice(1)).split("&").map((e=>e.split("="))).map((e=>1===e.length?[e[0],!0]:e))),o=n.get("klaro-testing"),i=e=>{const t=en(en({},e),{},{testing:o});nn.noAutoLoad||nn.testing&&!t.testing||dn(nn,t)};if(void 0!==e)nn=e,mn((()=>i({})));else if(null!==t){const e=function(e){const t=e.getAttribute("data-klaro-id");if(null!==t)return t;const n=/.*\/privacy-managers\/([a-f0-9]+)\/klaro.*\.js/.exec(e.src);return null!==n?n[1]:null}(t),r=function(e){const t=e.getAttribute("data-klaro-api-url");if(null!==t)return t;const n=/(http(?:s)?:\/\/[^/]+)\/v1\/privacy-managers\/([a-f0-9]+)\/klaro.*\.js/.exec(e.src);return null!==n?n[1]:null}(t),s=function(e,t){if(e.has("klaro-config"))return e.get("klaro-config");const n=t.getAttribute("data-klaro-config");return null!==n?n:"default"}(n,t);if(null!==e){const t=new Gt(r,e,{testing:o});if(void 0!==window.klaroApiConfigs){if(!0===un("apiConfigsLoaded",window.klaroApiConfigs,t))return;const e=window.klaroApiConfigs.find((e=>e.name===s&&("active"===e.status||o)));void 0!==e?(nn=e,mn((()=>i({api:t})))):un("apiConfigsFailed",{})}else t.loadConfig(s).then((e=>{!0!==un("apiConfigsLoaded",[e],t)&&(nn=e,mn((()=>i({api:t}))))})).catch((e=>{console.error(e,"cannot load Klaro configs"),un("apiConfigsFailed",e)}))}else{const e=t.getAttribute("data-klaro-config")||"klaroConfig";nn=window[e],void 0!==nn&&mn((()=>i({})))}}n.has("klaro-ide")&&function(e){const t=/^(.*)(\/[^/]+)$/.exec(e.src)[1]||"",n=document.createElement("script");n.src=""!==t?t+"/ide.js":"ide.js",n.type="application/javascript";for(const e of n.attributes)n.setAttribute(e.name,e.value);document.head.appendChild(n)}(t)}function vn(e,t,n){return dn(e=e||nn,{show:!0,modal:t,api:n}),!1}const yn={};function bn(){for(const e in Object.keys(yn))delete yn[e]}function kn(e){const t=(e=e||nn).storageName||e.cookieName||"default";return void 0===yn[t]&&(yn[t]=new zt(hn(e))),yn[t]}function En(){return"v"==="unknown"[0]?"unknown".slice(1):"unknown"}gn()})(),o})()));